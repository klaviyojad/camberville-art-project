(this["webpackJsonpcamberville-art-project"]=this["webpackJsonpcamberville-art-project"]||[]).push([[0],{39:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/rainbow.5e892f67.svg"},44:function(e,t,a){e.exports=a.p+"static/media/plant.25382a35.svg"},45:function(e,t,a){e.exports=a.p+"static/media/sky.07427359.svg"},46:function(e,t,a){e.exports=a.p+"static/media/spring.af113fcb.svg"},47:function(e,t,a){e.exports=a.p+"static/media/ocean.eb505191.svg"},48:function(e,t,a){e.exports=a.p+"static/media/earth.3f938223.svg"},49:function(e,t,a){e.exports=a.p+"static/media/love.81c82435.svg"},50:function(e,t,a){e.exports=a.p+"static/media/thankyou.09818393.svg"},51:function(e,t,a){e.exports=a.p+"static/media/animals.409f08f7.svg"},52:function(e,t,a){e.exports=a.p+"static/media/shapes.714cf2e0.svg"},53:function(e,t,a){e.exports=a.p+"static/media/home.f09e309a.svg"},61:function(e,t,a){e.exports=a(90)},66:function(e,t,a){},79:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=(a(66),a(57)),s=a(32),c=a(21),u=a(15),m=a(16),p=a(17),d=a(18),h=a(30),f=a.n(h);a(75),a(76);f.a.initializeApp({apiKey:"AIzaSyDyYrvIVWD68HvzFmKE0TYYJSpAV2zSzv4",authDomain:"rainbowhunt-b14d6.firebaseapp.com",databaseURL:"https://rainbowhunt-b14d6.firebaseio.com"});var k=f.a,w=a(28),g=(a(39),a(79),a(31)),v=a.n(g),y=a(43),E=a.n(y),b=a(44),O=a.n(b),A=a(45),S=a.n(A),C=a(46),x=a.n(C),j=a(47),I=a.n(j),N=a(48),D=a.n(N),M=a(49),L=a.n(M),J=a(50),W=a.n(J),T=a(51),V=a.n(T),z=a(52),R=a.n(z),Y=a(53),Z=a.n(Y),F=["rainbows","plants","sky","spring","ocean","earth","love","thank you","animals","shapes","home"],H=["week 1 - plants","week 2 - rainbows","week 3 - skies","week 4 - spring","week 5 - ocean","week 6 - earth","week 7 - love","week 8 - thank you","week 9 - animals","week 10 - shapes","week 11 - home"],B=[{week:"week 1 - plants",option:"plants",image:O.a,alt:"Plant Icon"},{week:"week 2 - rainbows",option:"rainbows",image:E.a,alt:"Rainbow Icon"},{week:"week 3 - skies",option:"sky",image:S.a,alt:"Sky Icon"},{week:"week 4 - spring",option:"spring",image:x.a,alt:"Spring Icon"},{week:"week 5 - ocean",option:"ocean",image:I.a,alt:"Ocean Icon"},{week:"week 6 - earth",option:"earth",image:D.a,alt:"Earth Icon"},{week:"week 7 - love",option:"love",image:L.a,alt:"Love Icon"},{week:"week 8 - thank you",option:"thank you",image:W.a,alt:"Thank You Icon"},{week:"week 9 - animals",option:"animals",image:V.a,alt:"Animals Icon"},{week:"week 10 - shapes",option:"shapes",image:R.a,alt:"Shapes Icon"},{week:"week 11 - home",option:"home",image:Z.a,alt:"Home Icon"}],q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).mapTypeOfArt=function(e){return"window art"===e?"Window Art":"sidewalk art"===e?"Sidewalk Art":"outside art"===e?"Outside Art":"other"===e?n.state.otherValue:void 0},n.onRadioChange=function(e){n.setState({typeOfArt:e.target.value})},n.handleSubmit=function(e,t,a){a(n.state.week,n.mapTypeOfArt(n.state.typeOfArt)),t(!1)},n.updateSelectedValue=function(e){n.setState({week:e.target.value})},n.updateInputValue=function(e){n.setState({otherValue:e.target.value})},n.state={typeOfArt:"window art",week:H[H.length-1],otherValue:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;v.a.setAppElement("#root");var t=this.props,a=t.isModalOpen,n=t.setIsModalOpen,o=t.addNewArtEntry;return r.a.createElement(v.a,{isOpen:a,onRequestClose:function(){return n(!1)},shouldCloseOnOverlayClick:!1,className:"Modal"},r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",null,"New Art Project Entry"),r.a.createElement("span",{className:"Icon",role:"button","aria-label":"Close Modal",tabIndex:0,onClick:function(){return n(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"inherit"},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("label",{htmlFor:"week"},"Theme:\xa0"),r.a.createElement("select",{id:"week",onChange:this.updateSelectedValue,value:this.state.week},H.map((function(e){return r.a.createElement("option",{key:"".concat(JSON.stringify(e)),value:e},e)}))),r.a.createElement("p",null,"Type of Art:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"window art",checked:"window art"===this.state.typeOfArt,onChange:this.onRadioChange}),"Window Art")),r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"sidewalk art",checked:"sidewalk art"===this.state.typeOfArt,onChange:this.onRadioChange}),"Sidewalk Art")),r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"outside art",checked:"outside art"===this.state.typeOfArt,onChange:this.onRadioChange}),"Outside Art")),r.a.createElement("li",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"other",checked:"other"===this.state.typeOfArt,onChange:this.onRadioChange}),"Other:\xa0"),r.a.createElement("input",{type:"text",value:this.state.otherValue,onChange:this.updateInputValue}))),r.a.createElement("button",{type:"button",className:"modal-btn",onClick:function(t){return e.handleSubmit(t,n,o)}},"Save"))))}}]),a}(r.a.Component),K=a(55),U=a.n(K),P=(a(89),a(56)),Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,callback:null},e.show=function(t){return function(a){a.preventDefault(),a=Object(c.a)({},a,{target:Object(c.a)({},a.target,{value:a.target.value})}),e.setState({open:!0,callback:function(){return t(a)}})}},e.hide=function(){return e.setState({open:!1,callback:null})},e.confirm=function(){e.state.callback(),e.hide()},e}return Object(m.a)(a,[{key:"render",value:function(){return n.createElement(n.Fragment,null,this.props.children(this.show),this.state.open&&n.createElement(P.a,null,n.createElement("h1",null,this.props.title),n.createElement("p",null,this.props.description),n.createElement("button",{className:"marker-modal-btn",onClick:this.hide},"Cancel"),"\xa0",n.createElement("button",{className:"marker-modal-btn",onClick:this.confirm},"OK")))}}]),a}(n.Component),_=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).addNewArtEntry=function(e,t){var a=k.database().ref("/").push().key;fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(n.state.modalLng,",").concat(n.state.modalLat,".json?access_token=").concat("pk.eyJ1IjoiamFkZHNreSIsImEiOiJjazhjMnl3aTAwZmJ5M2xxdW51Zm5sYzB1In0.ahLDDEdxFD8QobNxUfShZw")).then((function(e){return e.json()})).then((function(r){var o={id:a,Address:r.features[0].place_name,Timestamp:U()(new Date).format("YYYY-MM-DD HH:mm:ss"),"Type of Art":t,Week:e,lat:n.state.modalLat,lng:n.state.modalLng};k.database().ref("/".concat(a)).update(o),n.updateStateWithNewArtEntry(o)}))},n.handleViewportChange=function(e){n.setState({viewport:Object(c.a)({},n.state.viewport,{},e)})},n.setIsModalOpen=function(e){n.setState({isModalOpen:e})},n.handleDelete=function(){console.log("deleting item"),k.database().ref("/".concat(n.state.selectedArtEntry.id)).remove();var e=n.state.artEntries.filter((function(e){return e.id!==n.state.selectedArtEntry.id}));n.setState({artEntries:e,selectedArtEntry:null})},n.mapRef=r.a.createRef(),n.state={isLoadedData:!1,artEntries:[],viewport:{latitude:42.3876,longitude:-71.0995,zoom:12,width:"100vw",height:"100vh",style:{cursor:"crosshair"}},selectedArtEntry:null,active:F,isModalOpen:!1,modalLng:null,modalLat:null},n}return Object(m.a)(a,[{key:"updateStateWithNewArtEntry",value:function(e){var t=[].concat(Object(s.a)(this.state.artEntries),[e]);this.setState({artEntries:t})}},{key:"componentDidMount",value:function(){var e=this;k.auth().signInAnonymously().then((function(){k.database().ref("/").on("value",(function(t){var a=t.val(),n=t.numChildren(),r=0;a&&Object.entries(a).map((function(t){var a=Object(l.a)(t,2),o=a[0],i=a[1];return i.lat&&i.lng&&(i.id=o,e.updateStateWithNewArtEntry(i),(r+=1)===n&&e.setState({isLoadedData:!0})),!0}))}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedArtEntry,n=t.active,o=t.isModalOpen,i=[].concat(Object(s.a)(F),[F]);if(!this.state.isLoadedData)return null;var l=this.state.viewport;return r.a.createElement("div",null,r.a.createElement("div",{className:"toggle-group absolute top left ml12 mt12 border border--2 border--white bg-white shadow-darken10 z1"},i.map((function(t,a){return r.a.createElement("label",{key:a,className:"toggle-container"},r.a.createElement("input",{onChange:function(){e.setState({active:t})},checked:JSON.stringify(n)===JSON.stringify(t),name:"toggle",type:"radio"}),r.a.createElement("div",{className:"toggle txt-s py3 toggle--active-white"},Array.isArray(t)?"all":t))}))),r.a.createElement(w.c,Object.assign({ref:this.mapRef},l,{mapboxApiAccessToken:"pk.eyJ1IjoiamFkZHNreSIsImEiOiJjazhjMnl3aTAwZmJ5M2xxdW51Zm5sYzB1In0.ahLDDEdxFD8QobNxUfShZw",onViewportChange:this.handleViewportChange,mapStyle:"mapbox://styles/jaddsky/ck97hlbf3077h1iqaeu26gyh8",onClick:function(t){e.setState({modalLat:t.lngLat[1],modalLng:t.lngLat[0],isModalOpen:!0})},getCursor:function(e){return"crosshair"}}),this.state.artEntries.map((function(t){return t.lat&&t.lng&&r.a.createElement(w.a,{key:"".concat(JSON.stringify(t)),latitude:t.lat,longitude:t.lng},r.a.createElement("button",{className:"marker-btn",onClick:function(a){a.preventDefault(),e.setState({selectedArtEntry:t})}},B.map((function(e){return t.Week===e.week&&n.includes(e.option)?r.a.createElement("img",{key:"".concat(JSON.stringify(t)).concat(JSON.stringify(e)),src:e.image,alt:e.alt}):null}))))})),a?r.a.createElement(w.b,{latitude:a.lat,longitude:a.lng,onClose:function(){return e.setState({selectedArtEntry:null})},closeOnClick:!1,captureClick:!0},r.a.createElement("u",null,a.Week),r.a.createElement("p",null,a.Address),r.a.createElement("p",null,a["Type of Art"]),r.a.createElement("p",null,a.Timestamp),r.a.createElement(Q,{title:"Confirm",description:"Are you sure?"},(function(t){return r.a.createElement("button",{className:"marker-modal-btn",onClick:t(e.handleDelete)},"Delete Entry")}))):null),r.a.createElement(q,{isModalOpen:o,setIsModalOpen:this.setIsModalOpen,addNewArtEntry:this.addNewArtEntry}))}}]),a}(n.Component);var $=function(){return r.a.createElement(_,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.ac7c1167.chunk.js.map